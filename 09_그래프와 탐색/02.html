<html>
    <head>
        <meta charset="UTF-8">
        <title>경로탐색(DFS-인접리스트 : 노드개수가 많을 때 적용)</title>
    </head>
    <body>
        <script>
            function solution(n, arr){  
                let answer = 0;
                let graph = Array.from(Array(n+1), ()=>Array()); // 행, 열
                let ch = Array.from({length:n+1}, ()=>0);
                let path = [];
                // console.log(graph, '1'); 6행 빈 배열

                for(let [a, b] of arr){
                    // console.log(a,b);
                    graph[a].push(b); 
                }
                // console.log(graph, '2'); 인접 리스트

                function DFS(v){
                    if(v===n){
                        answer++;
                        console.log(path);
                    } else {
                        for(let i=0; i<graph[v].length; i++){
                            if(ch[graph[v][i]]===0){
                                ch[graph[v][i]] = 1;
                                path.push(graph[v][i]);
                                DFS(graph[v][i]);
                                ch[graph[v][i]] = 0;
                                path.pop();
                            }
                        }
                    }
                }
                ch[1] = 1;
                path.push(1);
                DFS(1);
                return answer;
            }

            let arr=[[1, 2], [1, 3], [1, 4], [2, 1], [2, 3], [2, 5], [3, 4], [4, 2], [4, 5]];
            console.log(solution(5, arr)); // 6
        </script>
    </body>
</html>